---
layout: default
---

<h1 id="project-title"></h1>

<div class="centered-container">
    <div class="slideshow">
        <button class="prev">&#10094;</button>
        <div class="slides-wrapper" id="project-slides"></div>
        <button class="next">&#10095;</button>
    </div>

    <div class="content">
        {{ content }}
    </div>

    <p id="project-date" class="project-date"></p>
</div>

<script>
    document.addEventListener("DOMContentLoaded", async () => {
        const path = window.location.pathname.replace(/\/$/, ""); // normalize
        const project = window.config?.projects?.find(p => p.permalink.replace(/\/$/, "") === path);

        if (!project) {
            console.error("Project not found for path:", path);
            return;
        }

        // Populate title
        document.getElementById("project-title").textContent = project.title;

        // Populate slideshow
        const slidesWrapper = document.getElementById("project-slides");
        if (Array.isArray(project.images)) {
            project.images.forEach(img => {
                const slide = document.createElement("div");
                slide.classList.add("slide");
                slide.innerHTML = `<img src="${img}" alt="${project.title} image">`;
                slidesWrapper.appendChild(slide);
            });
        }

        // Populate date
        const dateEl = document.getElementById("project-date");
        if (project.month && project.year) {
            const monthName = config.monthNames?.[project.month - 1] || project.month;
            dateEl.textContent = `â€”${monthName} ${project.year}`;
        }

        // Enable slideshow (reuse your existing `showSlide`, `prevBtn`, etc.)
        const slides = slidesWrapper.querySelectorAll(".slide");
        if (slides.length > 0) {
            let current = 0;
            const showSlide = (index) => {
                slides.forEach((s, i) => s.classList.toggle("active", i === index));
            };
            document.querySelector(".prev").addEventListener("click", () => {
                current = (current - 1 + slides.length) % slides.length;
                showSlide(current);
            });
            document.querySelector(".next").addEventListener("click", () => {
                current = (current + 1) % slides.length;
                showSlide(current);
            });
            showSlide(current);
        }
    });
</script>